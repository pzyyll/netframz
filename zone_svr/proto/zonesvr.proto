syntax = "proto3";

message MsgRet {
    enum ErrCode {
        SUCCESS = 0;
        FAIL    = -1;
    }
}

message MsgCmd {
    enum MsgId {
        MSGINIT  = 0X0;
        LOGINREQ = 0X1001;
        LOGINRSP = 0X1002;
        ZONESYN  = 0X2001;
        ZONESTAT = 0X2002;
        CHATREQ  = 0X3001;
        CHATRSP  = 0X3002;
        CHATSTAT = 0X3003;
    }
}

message Persion {
    message Point {
        int32 x = 1;
        int32 y = 2;
    }
    bytes name  = 1;
    Point point = 2;
}

// LOGINREQ = 0X1001;
message LoginReq {
    bytes name = 1;
}

// LOGINRSP = 0X1002;
message LoginRsp {
    int32 ret = 1;
    bytes err_msg = 2;
    repeated Persion persion_list = 3;
}


// ZONESYN = 0X2001;
message ZoneSyn {
    Persion persion = 1;
}

// ZONESTAT = 0X2002;
message ZoneStat {
    repeated Persion persion_list = 1;
}

// CHATREQ = 0X3001;
message ChatReq {
    bytes name    = 1;
    bytes content = 2;
}

// CHATRSP = 0X3002;
message ChatRsp {
    int32 ret = 1;
    bytes err_msg = 2;
}

// CHATSTAT = 0X3003;
message ChatStat {
    Persion speaker = 1;
    bytes content   = 2;
    uint32 time     = 3;
}
